window.onload=function(){var r=document.getElementById("phone"),l=document.getElementById("code"),e=document.getElementById("registor"),o=document.getElementById("login"),n=document.getElementById("no-phone"),t=document.getElementById("pass"),i=[!1,!1];r.onblur=function(){var e=r.value;/^[\u4e00-\u9fa5\w]{3,12}$/.test(e)?(n.innerHTML="中文、字母、数字、下划线的组合,3到12位",n.style.color="greenyellow",i[0]=!0):(n.innerHTML="您的用户名不符合规则",n.style.color="red",i[0]=!1)},l.onblur=function(){var e=l.value;/^\w{6,12}$/.test(e)?(t.innerHTML="字母、数字、下划线，6到12位",t.style.color="greenyellow",i[1]=!0):(t.innerHTML="您的密码不符合规则",t.style.color="red",i[1]=!1)},e.onclick=function(){var e=r.value,o=l.value;if(console.log(e,o),e)if(-1==i.indexOf(!1)){var n=getCookie("registorUser")?getCookie("registorUser"):"",t=function(e){if(!e)return{};var o=e.split(",");console.log(o);for(var n={},t=0;t<o.length;t++){var r=o[t].split(":");n[r[0]]=r[1]}return n}(n);e in t?alert("用户名已存在！"):(t[e]=o,n=function(e){var o="";for(var n in e){var t=e[n];o&&(o+=","),o+=n+":"+t}return o}(t),createCookie("registorUser",n,7),alert("注册成功！"),alert(decodeURIComponent(document.cookie)))}else alert("请正确填写信息！");else alert("用户名不能为空！")},o.onclick=function(){location.href="login.html"}};